# .env.qa.example
# Q&A Extraction Function Configuration
# Copy this file to .env.qa and fill in your actual values
# This function extracts question-answer pairs from answered RFPs

# ========================================
# Azure Functions Configuration
# ========================================
AzureWebJobsStorage=DefaultEndpointsProtocol=https;AccountName=your-storage-account;AccountKey=your-key;EndpointSuffix=core.windows.net

# ========================================
# Extraction Strategy Configuration
# ========================================
# Strategy: "simple" (fast, basic) or "context_aware" (better quality, structure-aware)
EXTRACTION_STRATEGY=context_aware

# Chunking parameters (larger chunks for Q&A pairs)
CHUNK_SIZE=8000
CHUNK_OVERLAP=500

# Quality control
CONFIDENCE_THRESHOLD=0.5

# Deduplication
ENABLE_DEDUP=true
SIMILARITY_THRESHOLD=0.9

# Section filtering (for context_aware strategy)
# Comma-separated: QUESTIONNAIRE,PRICING,INFORMATIONAL
# Leave empty to process ALL sections
ALLOWED_SECTION_TYPES=QUESTIONNAIRE

# ========================================
# Document Parser Configuration
# ========================================
# Parser: "pymupdf" (free, markdown) or "azure" (paid, plain text with tables)
DOCUMENT_PARSER=pymupdf

# --- Azure Document Intelligence (when DOCUMENT_PARSER=azure) ---
DI_ENDPOINT=https://eastus.api.cognitive.microsoft.com/
DI_KEY=your-document-intelligence-key-here

# ========================================
# LLM Provider Configuration
# ========================================
# Provider: "azure" or "openai"
LLM_PROVIDER=openai

# --- Azure OpenAI (when LLM_PROVIDER=azure) ---
OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
OPENAI_KEY=your-openai-key-here
OPENAI_DEPLOYMENT=gpt-4o
OPENAI_API_VERSION=2024-12-01-preview

# --- OpenAI Direct (when LLM_PROVIDER=openai) ---
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-2024-08-06

# ========================================
# Database Configuration
# ========================================
DATABASE_URL=postgresql://user:password@localhost:5432/documents_db

# For Azure PostgreSQL:
# DATABASE_URL=postgresql://user@servername:password@servername.postgres.database.azure.com:5432/documents_db?sslmode=require

# ========================================
# Logging
# ========================================
LOG_LEVEL=INFO

# ========================================
# Azure Functions Runtime (Optional)
# ========================================
FUNCTIONS_WORKER_RUNTIME=python
FUNCTIONS_EXTENSION_VERSION=~4
